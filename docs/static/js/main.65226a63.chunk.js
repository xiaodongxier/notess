(this["webpackJsonpnotes-viewer"]=this["webpackJsonpnotes-viewer"]||[]).push([[0],{359:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(9),r=n.n(i),s=(n(81),n(15)),o=n(46),l=n(407),d=n(406),j=n(405),b=n(410),u=n(411),g=n(409),h=n(54),p=n.n(h),f=n(408),m=n(47),x=n(404),O=n(412),v=n(12),y=(n(82),n(66)),w=n.n(y),k=n(70),S=n.n(k),I=n(69),R=n.n(I),L=n(397),C=n(399),N=n(401),B=n(402),H=n(403),E=n(67),U=n.n(E),G=n(68),P=n.n(G),T=n(400),F=n(3);function M(e){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t}function _(e){var t=Object(v.a)(),n=e.indent?e.indent:2,a=e.folder,i=c.a.useState(Array("function"===typeof a.folders?0:a.folders.length).fill(!1)),r=Object(s.a)(i,2),o=r[0],l=r[1];return"function"===typeof a.folders?(a.folders(a,(function(t,n){a.folders=t,a.files=n,l(Array(a.folders.length).fill(!1)),e.onLoad&&e.onLoad(n),e.fresh()})),Object(F.jsx)(L.a,{component:"div",disablePadding:!0,children:Object(F.jsx)(C.a,{button:!0,style:{paddingLeft:t.spacing(n)},children:Object(F.jsx)(T.a,{variant:"text",width:300,height:30})})})):Object(F.jsxs)(L.a,{component:"div",disablePadding:!0,children:[M(a.folders.map((function(c,i){return[Object(F.jsxs)(C.a,{button:!0,onClick:function(){return function(e){l(o.map((function(t,n){return e===n?!t:t})))}(i)},style:{paddingLeft:t.spacing(n)},children:[Object(F.jsx)(N.a,{children:Object(F.jsx)(w.a,{})}),Object(F.jsx)(B.a,{primary:c.name}),o[i]?Object(F.jsx)(U.a,{}):Object(F.jsx)(P.a,{})]},i),Object(F.jsx)(H.a,{in:o[i],timeout:"auto",unmountOnExit:!0,children:Object(F.jsx)(_,{indent:n+4,folder:c,fresh:e.fresh,onClick:e.onClick})},a.folders.length+i)]}))),a.files.map((function(c,i){return Object(F.jsxs)(C.a,{button:!0,onClick:function(){e.onClick(c)},style:{paddingLeft:t.spacing(n)},children:[Object(F.jsx)(N.a,{children:(r=c.name,r.length>=3&&".md"===r.slice(r.length-3,r.length)?Object(F.jsx)(R.a,{}):Object(F.jsx)(S.a,{}))}),Object(F.jsx)(B.a,{primary:c.name})]},2*a.folders.length+i);var r}))]})}var z="?git=github&github=xiaodongxier/BeijngNotes",A=300,q=Object(x.a)((function(e){return Object(O.a)({root:{display:"flex"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:A,flexShrink:0}),appBar:Object(o.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(A,"px)"),marginLeft:A}),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:A},content:{flexGrow:1,padding:e.spacing(3)},github:{"& > *":{marginRight:e.spacing(2),marginBottom:e.spacing(1)}}})}));function D(e){return e.parent?D(e.parent)+e.name+"/":""}var J={name:"root",parent:null,folders:function e(t,n){var a=V(),c=[],i=[],r=new XMLHttpRequest,s="";s="gitlab"===a.git?"https://".concat(a.gitlab,"/api/v4/projects/").concat(a.id,"/repository/tree?per_page=1000&ref=master&path=").concat(encodeURI(D(t))):"https://api.github.com/repos/".concat(a.github,"/contents/").concat(encodeURI(D(t))),r.open("GET",s),a.token&&r.setRequestHeader("Authorization","token "+a.token),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&(JSON.parse(r.responseText).forEach((function(n){("gitlab"===a.git?"tree"===n.type:"dir"===n.type)?c.push({name:n.name,parent:t,folders:e,files:[]}):("gitlab"===a.git?"blob"===n.type:"file"===n.type)&&i.push({name:n.name,parent:t})})),n(c,i))},r.send(null)},files:[]},X=n(89),W=n(300)({html:!0,highlight:function(e,t){if(t&&X.getLanguage(t))try{return'<pre class="hljs"><code>'+X.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+W.utils.escapeHtml(e)+"</code></pre>"}}),K=n(357);function Q(e,t){if(t){var n=V(),a="",c="";"gitlab"===n.git?(a="https://".concat(n.gitlab,"/api/v4/projects/").concat(n.id,"/repository/files/"),c="/raw?ref=master"):(a="https://raw.githubusercontent.com/".concat(n.github,"/master/"),c="");for(var i,r=/!\[([\u4e00-\u9fa5a-z0-9-_/. ]*)\]\((\.\/)?([\u4e00-\u9fa5a-z0-9-_/. ]*)\)/g,s=0,o="";null!==(i=r.exec(e));)o+=e.slice(s,r.lastIndex-i[0].length),o+="![".concat(i[1],"](").concat(a).concat("gitlab"===n.git?encodeURI(D(t.parent)+i[3]).replace(/\//g,"%2F"):encodeURI(D(t.parent)+i[3])).concat(c,")"),s=r.lastIndex;o+=e.slice(s,e.length),e=o;var l=/<img +src="([\u4e00-\u9fa5a-z0-9-_/. ]*)"([^>]*)>/g;for(s=0,o="";null!==(i=l.exec(e));)o+=e.slice(s,l.lastIndex-i[0].length),o+='<img src="'.concat(a).concat("gitlab"===n.git?encodeURI(D(t.parent)+i[1]).replace(/\//g,"%2F"):encodeURI(D(t.parent)+i[1])).concat(c,'"').concat(i[2],">"),s=l.lastIndex;o+=e.slice(s,e.length),e=o}return e}function V(){var e={};if(z.length>1)for(var t=z.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");e[a[0]]=a[1]}return"github"!==e.git&&"gitlab"!==e.git&&void 0!==e.git&&(e.git="github"),"gitlab"===e.git?e.gitlab||(e.gitlab="git.nju.edu.cn",e.id="2047"):e.github||(e.github="xiaodongxier/BeijngNotes"),e}function Y(){var e=q(),t=Object(v.a)(),n=c.a.useState(!1),i=Object(s.a)(n,2),r=i[0],o=i[1];function h(){o(!r)}function x(e){o(!1);var t=V(),n="",a="";"gitlab"===t.git?(n="https://".concat(t.gitlab,"/api/v4/projects/").concat(t.id,"/repository/files/"),a="/raw?ref=master"):(n="https://raw.githubusercontent.com/".concat(t.github,"/master/"),a="");var c,i="".concat(n).concat("gitlab"===t.git?encodeURI(D(e.parent)+e.name).replace(/\//g,"%2F"):encodeURI(D(e.parent)+e.name)).concat(a);if(!((c=e.name).length>=3&&".md"===c.slice(c.length-3,c.length)))return console.log(window.location.search),void window.open(i,"_blank");L(e.name),H("# \u52a0\u8f7d\u4e2d...\n\n\u5982\u679c\u60a8\u8bbf\u95ee\u7684\u662f GitHub \u4e0a\u7684\u7b14\u8bb0, \u4e5f\u8bb8\u662f\u56e0\u4e3a\u56fd\u5185\u8bbf\u95ee GitHub \u901f\u5ea6\u4e0d\u4f73, \u53ef\u4ee5\u81ea\u884c\u5bfb\u627e\u65b9\u5f0f\u89e3\u51b3.");var r=new XMLHttpRequest;r.open("GET",i),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?(k(e),H(r.responseText)):H("# \u52a0\u8f7d\u5931\u8d25...\n\n\u5982\u679c\u60a8\u8bbf\u95ee\u7684\u662f GitHub \u4e0a\u7684\u7b14\u8bb0, \u4e5f\u8bb8\u662f\u56e0\u4e3a\u56fd\u5185\u8bbf\u95ee GitHub \u901f\u5ea6\u4e0d\u4f73, \u53ef\u4ee5\u81ea\u884c\u5bfb\u627e\u65b9\u5f0f\u89e3\u51b3."))},r.send(null)}var O=Object(a.useState)(null),y=Object(s.a)(O,2),w=y[0],k=y[1],S=Object(a.useState)("\u5c0f\u4e1c\u897f\u513f\u7684\u7b14\u8bb0"),I=Object(s.a)(S,2),R=I[0],L=I[1],C=Object(a.useState)(""),N=Object(s.a)(C,2),B=N[0],H=N[1],E=Object(a.useState)(0),U=Object(s.a)(E,2),G=U[0],P=U[1],T=Object(a.useState)("xiaodongxier/BeijngNotes"),M=Object(s.a)(T,2),z=(M[0],M[1],Object(a.useState)("")),A=Object(s.a)(z,2),X=(A[0],A[1],Object(a.useState)("git.nju.edu.cn")),K=Object(s.a)(X,2),Y=(K[0],K[1],Object(a.useState)("2047")),Z=Object(s.a)(Y,2),$=(Z[0],Z[1],Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:e.toolbar,style:{color:"#303030",display:"flex",alignItems:"center",paddingLeft:16},children:[Object(F.jsx)(p.a,{style:{marginRight:30}}),Object(F.jsx)(m.a,{variant:"h6",noWrap:!0,children:"\u76ee\u5f55"})]}),Object(F.jsx)(j.a,{}),V().git?Object(F.jsx)(_,{folder:J,fresh:function(){return P(G+1)},onClick:x,onLoad:function(e){e.forEach((function(e){"README.md"===e.name&&x(e)}))}}):null]}));return Object(F.jsxs)("div",{className:e.root,children:[Object(F.jsx)(d.a,{}),Object(F.jsx)(l.a,{position:"fixed",className:e.appBar,color:"default",children:Object(F.jsxs)(f.a,{children:[Object(F.jsx)(g.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:h,className:e.menuButton,children:Object(F.jsx)(p.a,{})}),Object(F.jsx)(m.a,{variant:"h6",noWrap:!0,children:R})]})}),Object(F.jsxs)("nav",{className:e.drawer,"aria-label":"mailbox folders",children:[Object(F.jsx)(u.a,{smUp:!0,implementation:"css",children:Object(F.jsx)(b.a,{variant:"temporary",anchor:"rtl"===t.direction?"right":"left",open:r,onClose:h,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:$})}),Object(F.jsx)(u.a,{xsDown:!0,implementation:"css",children:Object(F.jsx)(b.a,{classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:$})})]}),Object(F.jsxs)("main",{className:e.content,children:[Object(F.jsx)("div",{className:e.toolbar}),V().git?Object(F.jsx)("div",{dangerouslySetInnerHTML:{__html:W.render(Q(B,w))}}):Object(F.jsxs)("div",{children:[Object(F.jsx)("h3",{children:"\u6211\u7684\u7684\u7b14\u8bb0"}),Object(F.jsx)("h2",{children:Object(F.jsx)("a",{href:"./?git=github",children:"GitHub Notes"})})]})]})]})}W.use(K,{throwOnError:!1,errorColor:"#cc0000"});var Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,413)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(F.jsxs)(c.a.StrictMode,{children:[Object(F.jsx)(Y,{}),Object(F.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css"}),Object(F.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/atom-one-dark.min.css"}),Object(F.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css",crossOrigin:"anonymous"}),Object(F.jsx)("script",{defer:!0,src:"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js",crossOrigin:"anonymous"}),Object(F.jsx)("script",{defer:!0,src:"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js",crossOrigin:"anonymous"})]}),document.getElementById("root")),Z()},81:function(e,t,n){},82:function(e,t,n){}},[[359,1,2]]]);
//# sourceMappingURL=main.65226a63.chunk.js.map